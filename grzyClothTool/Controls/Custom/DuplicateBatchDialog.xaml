<Window x:Class="grzyClothTool.Controls.DuplicateBatchDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        AllowsTransparency="True"
        WindowStyle="None"
        MinHeight="300"
        MinWidth="500"
        MaxHeight="600"
        MaxWidth="800"
        Background="Transparent"
        SizeToContent="Height"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Title="Duplicate Drawables Detected">
    <Grid Margin="5" Background="{DynamicResource Brush50}">
        <Grid.RowDefinitions>
            <RowDefinition Height="28"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="50"/>
        </Grid.RowDefinitions>

        <Border Grid.RowSpan="5" 
                BorderBrush="{DynamicResource Brush100}" 
                BorderThickness="1" 
                HorizontalAlignment="Stretch" 
                VerticalAlignment="Stretch">
            <Border.Effect>
                <DropShadowEffect BlurRadius="4" 
                                  ShadowDepth="0"
                                  Direction="270" 
                                  Color="Black" 
                                  RenderingBias="Performance"/>
            </Border.Effect>
        </Border>

        <TextBlock x:Name="DialogCaption" 
                   HorizontalAlignment="Stretch" 
                   Grid.Row="0" 
                   Text="Duplicate Drawables Detected"
                   Background="Gainsboro"
                   Foreground="Black"
                   FontWeight="SemiBold"
                   Margin="1,1,1,0"
                   Padding="5,4,0,0" 
                   MouseLeftButtonDown="OnCaptionPress"/>

        <TextBlock Grid.Row="1" 
                   Margin="12,12,12,8"
                   TextWrapping="Wrap"
                   Foreground="{DynamicResource Brush950}"
                   Text="The following drawables appear to be duplicates of existing items. Select which ones you want to add:"/>

        <Border Grid.Row="2" 
                Margin="12,4,12,8" 
                BorderBrush="{DynamicResource Brush200}" 
                BorderThickness="1"
                Background="{DynamicResource Brush100}">
            <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="350">
                <ItemsControl x:Name="DuplicatesList" Padding="4">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border Margin="2" Padding="8" Background="{DynamicResource Brush50}" CornerRadius="4">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <CheckBox Grid.Column="0" 
                                              IsChecked="{Binding ShouldAdd, Mode=TwoWay}" 
                                              VerticalAlignment="Center"
                                              Margin="0,0,8,0"/>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <TextBlock Text="{Binding NewDrawableName}" 
                                                   FontWeight="SemiBold"
                                                   Foreground="{DynamicResource Brush950}"/>
                                        <TextBlock Text="{Binding DuplicateOfText}" 
                                                   FontSize="11"
                                                   Foreground="{DynamicResource Brush600}"
                                                   TextWrapping="Wrap"/>
                                    </StackPanel>
                                    <TextBlock Grid.Column="2" 
                                               Text="{Binding TypeDisplay}" 
                                               VerticalAlignment="Center"
                                               Foreground="{DynamicResource Brush500}"
                                               FontSize="11"
                                               Margin="8,0,0,0"/>
                                </Grid>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Border>

        <TextBlock x:Name="SummaryText" 
                   Grid.Row="3" 
                   Margin="12,0,12,8"
                   FontSize="11"
                   Foreground="{DynamicResource Brush600}"/>

        <Rectangle Grid.Row="4" 
                   Fill="{DynamicResource Brush100}"
                   Margin="1,0,1,1"/>
        <StackPanel Grid.Row="4"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right" 
                    VerticalAlignment="Center" 
                    Margin="0,0,12,0">
            <Button x:Name="BtnSelectAll" 
                    Content="Select All" 
                    Width="80" Height="28" 
                    Margin="4,0"
                    Background="White"
                    BorderBrush="DarkGray"
                    Foreground="Black"
                    Click="BtnSelectAll_Click"/>
            <Button x:Name="BtnSelectNone" 
                    Content="Select None" 
                    Width="80" Height="28" 
                    Margin="4,0"
                    Background="White"
                    BorderBrush="DarkGray"
                    Foreground="Black"
                    Click="BtnSelectNone_Click"/>
            <Button x:Name="BtnCancel" 
                    Content="Cancel All" 
                    Width="80" Height="28" 
                    Margin="4,0"
                    Background="White"
                    BorderBrush="DarkGray"
                    Foreground="Black"
                    Click="BtnCancel_Click"/>
            <Button x:Name="BtnConfirm" 
                    Content="Confirm" 
                    Width="80" Height="28" 
                    Margin="4,0"
                    Background="#4CAF50"
                    BorderBrush="#388E3C"
                    Foreground="White"
                    FontWeight="SemiBold"
                    Click="BtnConfirm_Click"/>
        </StackPanel>
    </Grid>
</Window>
